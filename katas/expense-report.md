---
layout: page
title: Expense Report Refactoring Kata
short_title: Expense Report Kata
back_page: /katas/index.html
sidebar_link: false
---

In Christian Hujer's [Expense Report Legacy Code Refactoring kata](https://github.com/christianhujer/expensereport), you get to inherit an existing codebase in need of a new feature. It, however, has no tests, and can't easily be tested.

## Kata Instructions

For this exercise, we'll be mostly following [Christian Hujer's instructions](https://github.com/christianhujer/expensereport?tab=readme-ov-file#process) that will have us discussing and taking notes as we go.

### New Feature to Build

- Add Lunch as a meal expense with a limit of 2000.

### Steps

1. 📚 Read the code to understand what it does and how it works.
1. 🦨 Read the code and check for design and code smells. Make a list of all code and design smells that you find.
1. 🧑‍🔬 Analyze what you would have to change to implement the new requirement without refactoring the code.
1. 🧪 Write a characterization test. Expand your list of code and design smells. Add those smells that you missed earlier and discovered now because they made your life writing a test miserable.
1. 🔧 Refactor the code.
1. 🔧 Refactor the test.
1. 👼 Test-drive the new feature.

## Source Code

Here's the link to the source code for this exercise.

- Christian Hujer's repository of starting code in various languages: [https://github.com/christianhujer/expensereport](https://github.com/christianhujer/expensereport)
